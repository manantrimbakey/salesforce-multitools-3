<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce Multitools Extension Structure</title>
    <link rel="stylesheet" href="explanation.css">
    <style>
        .doc-links {
            background: #f8f9fa;
            border-left: 4px solid #0288d1;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }
        .doc-links h3 {
            margin-top: 0;
        }
        .doc-links ul {
            list-style-type: none;
            padding-left: 10px;
        }
        .doc-links ul li {
            margin-bottom: 8px;
        }
        .doc-links ul li:before {
            content: "â†’";
            margin-right: 8px;
            color: #0288d1;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Salesforce Multitools Extension</h1>
            <p>A VS Code extension for enhanced Salesforce development</p>
        </div>
    </header>

    <div class="container">
        <div class="section">
            <h2>Overview</h2>
            <p>
                Salesforce Multitools is a VS Code extension designed to enhance Salesforce development workflows. 
                The extension provides tools for tracking file modifications, switching between related files, 
                and viewing Salesforce metadata directly within VS Code.
            </p>
            
            <div class="doc-links">
                <h3>Documentation Links</h3>
                <p>This is an interactive visual overview of the extension. For detailed documentation, see:</p>
                <ul>
                    <li><a href="index.md">Main Documentation Index</a></li>
                    <li><a href="quick-start.md">Quick Start Guide</a></li>
                    <li><a href="features/component-file-switcher.md">Component File Switcher Documentation</a></li>
                    <li><a href="architecture/overview.md">Architecture Overview</a></li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Extension Architecture</h2>
            <p>The extension follows a modular architecture with clear separation between the backend (extension) and frontend (webview) components:</p>
            
            <div class="flow-diagram">
                <div class="flow-box extension-box">
                    <strong>Extension Host (Node.js)</strong>
                    <p>Core extension functionality, commands, and Salesforce API interactions</p>
                </div>
                <div class="flow-box services-box">
                    <strong>Service Layer</strong>
                    <p>SFUtils, MetadataUtils, Configuration handlers</p>
                </div>
                <div class="flow-box ui-box">
                    <strong>UI Layer (WebViews)</strong>
                    <p>File Switcher Panel, Side Panel, React components</p>
                </div>
                <div class="flow-box salesforce-box">
                    <strong>Salesforce API</strong>
                    <p>SFDX functionality via @salesforce/core package</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Directory Structure</h2>
            <div class="architecture">
                <div class="column">
                    <h3>Extension Core (Backend)</h3>
                    <div class="component">
                        <strong>src/</strong>
                        <p>Main extension source code</p>
                        <ul>
                            <li><code>extension.ts</code>: Entry point for extension activation</li>
                            <li><code>commands/</code>: Command handlers (registerCommand)</li>
                            <li><code>utils/</code>: Utility functions for Salesforce metadata</li>
                        </ul>
                    </div>
                    <div class="component">
                        <strong>src/features/</strong>
                        <p>Feature modules</p>
                        <ul>
                            <li><code>fileSwitcher/</code>: Quick file navigation between related files</li>
                            <li><code>lastModifiedDetails/</code>: Track file modification history</li>
                            <li><code>sidePanel/</code>: Sidebar webview provider</li>
                        </ul>
                    </div>
                </div>
                <div class="column">
                    <h3>Client-Side UI (Frontend)</h3>
                    <div class="component">
                        <strong>client/</strong>
                        <p>Web-based UI components (React)</p>
                        <ul>
                            <li><code>src/components/</code>: React components for UI</li>
                            <li><code>src/assets/</code>: Static assets (images, icons)</li>
                        </ul>
                    </div>
                    <div class="component">
                        <strong>resources/</strong>
                        <p>Static resources like icons</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Key Features</h2>
            <div class="feature">
                <h3>File Switcher</h3>
                <p>Quickly navigate between related Salesforce files (controllers, components, etc.)</p>
                <pre><code>// Implementation in src/features/fileSwitcher/
// Activated by command: salesforce-multitools-3.openFileSwitcher</code></pre>
            </div>
            <div class="feature">
                <h3>Last Modified Details</h3>
                <p>View and track who last modified Salesforce components and when</p>
                <pre><code>// Implementation in src/features/lastModifiedDetails/
// Provides CodeLens information and refreshes automatically</code></pre>
            </div>
            <div class="feature">
                <h3>Salesforce Connection Management</h3>
                <p>Handles authentication with Salesforce orgs</p>
                <pre><code>// Implementation in src/utils/sfutils.ts
// Uses @salesforce/core for API interactions</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>Technology Stack</h2>
            <ul>
                <li><strong>Backend:</strong> Node.js, TypeScript, VS Code Extension API</li>
                <li><strong>Frontend:</strong> TypeScript, React</li>
                <li><strong>Salesforce API:</strong> @salesforce/core package</li>
                <li><strong>Build Tools:</strong> esbuild, npm-run-all</li>
            </ul>
        </div>

        <div class="section">
            <h2>Communication Flow</h2>
            <p>The extension uses a message-passing architecture for communication between VS Code and webviews:</p>
            <pre><code>// Extension sends message to webview
this._panel.webview.postMessage({
    command: 'commandName',
    data: { /* data payload */ }
});

// Webview receives message
window.addEventListener('message', event => {
    const message = event.data;
    switch (message.command) {
        case 'commandName':
            // Handle command
            break;
    }
});</code></pre>
        </div>

        <div class="section">
            <h2>Interactive Architecture Diagram</h2>
            <div class="diagram" id="architecture-diagram">
                <!-- Canvas will be created here by JavaScript -->
            </div>
        </div>
    </div>

    <footer>
        <p>Salesforce Multitools Extension - Version 0.0.1</p>
        <p><a href="index.md">Back to Documentation Index</a></p>
    </footer>

    <script src="explanation.js"></script>
</body>
</html> 